latex input:    mmd-article-header
Title:          XL vsn 14 Outline
Author:         Ethan C. Petuchowski
Base Header Level:  1
latex mode:     memoir
Keywords:       Life, Ruby on Rails, Time Tracking, ToDo List, School, App Making, Prototyping
CSS:            http://fletcherpenney.net/css/document.css
xhtml header:   <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
copyright:      2014 Ethan C. Petuchowski
latex input:    mmd-natbib-plain
latex input:    mmd-article-begin-doc
latex footer:   mmd-memoir-footer

# TODOs

## High

### Day/Hour heatmap
**I suppose this one will be on `tasks/show` and `categories/show` to start out**

1. Render the `partial` on the `tasks/show` page above the subtasks (will move below later)
2. Make the `_heatmap` partial (just stick it in `tasks/` I can figure out where it *ought* to go later
3. Fill it with `index.html` from the other thing
4. Remove the `<DOCTYPE ...yaddayadda>`
5. Change the `d3.json("data.json",` to `d3.json("heatmap.json",`
6. Create a `route` for it, something like

        '/tasks/:task_id/heatmap' => 'tasks#heatmap', as: 'task_heatmap'
7. Create a `tasks_controller#heatmap` action that allows for returning the `JSON`
    8. Does that mean I don't need to do anything?
    2. Or does that mean I need to have the following?
    
            respond_to do |format|
              format.json
            end
    3. No idea. Try it without, see if it works, add it if it doesn't, see if that makes it work.
8. Then debug the whole thing till it works, pretty much.

#### Sidenotes
1. Perhaps the code for this ought to live in `helpers/application_helper.rb`? Not sure yet. Look in to that? Can do bro.

### Frontend

1. Figure out how to create a global variable in `CoffeeScript` so that I can create it with
            
        startCounting = ->
            globalVar = setInterval func, count
        
        stopCounting = ->
            clearInterval(globalVar)
    Or maybe there's some better way to do it. I don't know.
2. Format the timer string as a time
1. Figure out some good way to indicate (via colors[?]) how urgent a `Task` is
    * This should be reflected in that `Task`'s `Category` listing on `categories#index`
    * As well as in the full `tasks#index`
2. Add new indicators to the `categories#index`
    3. "Incomplete tasks"
    2. "Next duedate"

### Charts

#### Start Simple

1. A simple [calendar heatmap](http://bl.ocks.org/tjdecke/5558084) of the year from August to May
2. A [stacked-to-grouped bars chart](http://bl.ocks.org/mbostock/3943967) 
3. A [zoomable pie chart][zpc] with [labels][pie labels]

[zpc]: http://bl.ocks.org/mbostock/4348373
[pie labels]: http://blog.luzid.com/2013/extending-the-d3-zoomable-sunburst-with-labels/

#### Then get Awesome

**A full fledged multi-dimensional plotting and slicing system**

2. Good-looking tutorials include
	1. [Becoming a Data Scientist][1]
	2. [rusty.io][2]
	3. [jc-gs.github.io][3]
	4. [Square's Crossfilter homepage][4]
	5. [D3 Tips & Tricks][5]
	6. [bl.ocks.org post][6]
	
[1]: https://becomingadatascientist.wordpress.com/tag/crossfilter-js/
[2]: http://blog.rusty.io/2012/09/17/crossfilter-tutorial/
[3]: http://dc-js.github.io/dc.js/
[4]: http://square.github.io/crossfilter/
[5]: https://leanpub.com/D3-Tips-and-Tricks/read#leanpub-auto-crossfilter-dcjs-and-d3js-for-data-discovery
[6]: http://bl.ocks.org/d3noob/6077996
## Medium

### Backend
2. Perhaps the best way to store the info for the `User`'s front-page dashboard is in it's
   own `Dashboard` object s.t. `class User` `has_one :dashboard` and `class Dashboard` `belongs_to :user`
3. Move the `Create` buttons on the `tasks/show.html` to `AJAX`
1. One other useful validation might be ensuring that for `Interval`, `start < end`
8. Add an (optional) attribute `estTimeRemaining` to `Task`
9. Add a `priority` attribute to `Task`
5. A **search bar** that searches for matching `Tasks` and `Categories`

### Frontend

## Low

### Backend

1. Allow `rspec` tests of authentication-protected areas of the site with **`rspec`**, see the [Devise Wiki][]
5. Add some simple tests of the most important things/invariants
1. Fill up `db/seeds.rb` with some Ruby code to seed the database with initial data, and run `rake db:seed`, e.g.

        5.times do |i|
          Product.create(name: "Product ##{i}", description: "A product.")
        end

2. To validate across an association, use the following code, but don't do it on both sides because that'd be an infinite loop

        class MyModel < ActiveRecord::Base
          has_many :otherModel
          validates_associated :otherModel
        end
        
3. The `:through` association is going to be useful

        class User < ActiveRecord::Base
          has_many :categories, dependent: :destroy
          has_many :tasks, through :category, dependent: :destroy
          has_many :subtasks, through :task, dependent: :destroy # ?? just guessing here

4. Configure debugging from Intellij

5. To set up the Heroku app to email people, follow the `sendgrid` installation instructions from [Heroku Sendgrid][] and the instructions from the *How to Install and Configure Devise in a Ruby on Rails Application* youtube video

6. `Users'` homepage should have a list of **upcoming deadlines** (`tasks`)

7. Add attribute `priority` to `Category`?

9. Add **recurring tasks**

10. Add **goals** to `user`?

11. Add **inspirational quotes** to `user`?

12. Review the youtube video *How to Use Nesting in a Ruby on Rails Application* (*doing that* is certainly over-complicating things, but it may still have useful ideas)

13. Add comprehensive testing


[simple form docs]: http://simple-form.plataformatec.com.br/
[Heroku Sendgrid]: https://devcenter.heroku.com/articles/sendgrid
[Devise Wiki]: https://github.com/plataformatec/devise#getting-started
[Gemfile]: http://www.railstutorial.org/book/updating_and_deleting_users#code-final_gemfile

### Frontend

2. Add a **home page** (for the site itself, not the user)
4. Add a profile picture to their homepage (simplest would be Gravater, I guess)

# Other

## Usage notes

### Running tests

    bundle exec rspec spec/
    bundle exec rspec spec/requests/user_pages_spec.rb
    bundle exec rspec spec/requests/user_pages_spec.rb -e "signup page"
    
### Heroku

    git push heroku
    heroku run rake db:migrate
    
    heroku open
    heroku logs
    heroku run console

        
# Rough Outline

## Goals

1. Have a way to track how my time is spent
2. "Trick" myself into working harder
3. Not waste time doing useless things

## Motivation

1. Last time I tried this, it was *enormously **successful** as a **motivator***

## Must haves

1. A list of tasks with due dates
2. Recurring tasks
3. Priority levels
4. Input intervals at which a task was worked on

## Imaginings

1. You have a list of categories
    * Which you can add to at will (subtracting sounds dangerous)
2. You click on a category
3. You have a list of tasks or events within that category
    1. The *Life* category might have tasks like Sleeping, Chilling, Partying, Exercising
        * These don't have due dates, but do have time intervals at which they were performed
    2. The *Advanced OSs* category might have tasks like "Assignment 1"
        * Sometimes subtasks are just distracting, but for an item like "Midterm", it *would* be helpful to have subtasks
    3. A Task might have a
        1. due date
        2. priority
        3. expected amount of time left
        4. time spent so far
        5. box for inputting time intervals spent
3. The *Misc Learning* task might have
    * useful youtube videos that I've watched
    * tutorials I read
    * perhaps they could be rated by *how* useful they actually were
4. Some sort of summary page, with
    1. pie charts
    2. trend graphs
    3. colors about good or bad
    4. *calendar heat map!*
5. While a time interval is being recorded, it reminds you to take a break every now and again
6. As a way of entering in a time interval, I'd like it if you could just add the start time as, say `1134 tonight/this morning/last night`, and then instead of entering in the end time, say `time spent = 45`
7. As a way of entering in a lot of data, one could add a CSV file uploader like the one in the youtube video *How to Build a CSV Uploader into a Ruby on Rails Application*. It takes like 3 minutes.
8. Also the *How to Build a CSV Downloader for a Ruby on Rails Application* takes another 3 minutes. Another little nice-to-have.
9. Integrate with FitBit to incorporate its own heatmap, and automatically collect the sleep data?
    1. That actually sounds pretty attractive


## Missing Schema elements

### User

1. (eventually) *has many* **aggregated statistics** (these will probably just be methods)
2. (eventually) *has many* **overarching goals**
3. (eventually) *has many* **inspiring quotes**
4. (eventually) *has an* **icon**


# Vision v2

## Beware

1. **Don't track things that needn't be tracked** --- e.g. food spending: it *just doesn't matter*
2. **Track things I want to hold myself accountable for** --- e.g. wake-up time and time spent exercising
3. **Don't implement things that aren't strictly necessary** until everything necessary is there

## User homepage

It's all a giant Bootstrap 3 Jumbotron

## After it *works*

1. Add a simple github-esque calendar heat map with d3.js, there's examples everywhere

## Over time

1. Do awesome charting with dc.js ("Dimensional Charting in Javascript")
    * I saved a bunch of articles for help figuring out how to use it
    * It's basically exactly what I need, and *certainly* good to know
